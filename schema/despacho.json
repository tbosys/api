{
  "$id": "http://example.com/example.json",
  "type": "object",
  "restricted": ["saldo", "totalComprobante", "fechaEntrega"],
  "title": "Despacho",
  "key": "despacho",
  "namespace": "inventario",
  "shareLevel": 5,
  "maxLimit": 20000,
  "multiRowAction": true,
  "properties": {
    "id": {
      "$id": "/properties/id",
      "type": "integer",
      "title": "Id"
    },
    "estado": {
      "$id": "/properties/estado",
      "type": "string",
      "title": "Estado",
      "filterable": true,
      "editable": true,
      "formatter": "SelectFormatter",
      "filterRenderer": "SelectFilter",
      "width": 100,
      "enum": ["por alistar", "por entregar","por anular","archivado"]
    },
    "resumen": {
      "$id": "/properties/resumen",
      "type": "string",
      "element": "textArea",
      "title": "Resumen",
      "editable": true,
      "width": 300
    },
    "descripcion": {
      "$id": "/properties/descripcion",
      "type": "string",
      "element": "textArea",
      "title": "Observaciones",
      "editable": true,
      "width": 300
    },
    "fechaAlisto": {
      "$id": "/properties/fecha",
      "type": "string",
      "title": "Alistado",
      "filterable": true,
      "sortable": true,
      "formatter": "DateFormatter",
      "width": 120,
      "editable": false,
      "filterRenderer": "DateFilter"
    },
    "fechaEntrega": {
      "$id": "/properties/fecha",
      "type": "string",
      "element": "date",
      "title": "Entregar",
      "editor": "date",
      "filterable": true,
      "width": 120,
      "formatter": "DateFormatter",
      "sortable": true,
      "editable": true,
      "filterRenderer": "DateFilter",
      "pattern": "[0-9]{4}-[0-9]{2}-[0-9]{2}"
    },
    "bultos": {
      "$id": "/properties/bultos",
      "type": "integer",
      "title": "Bultos",
      "editable": true,
      "filterRenderer": "NumericFilter",
      "filterable": true,
      "sortable": true
    },
    "clienteId": {
      "$id": "/properties/clienteId",
      "type": "integer",
      "title": "Cliente",
      "table": "cliente",
      "filterable": true,
      "route": "cliente/findLikeName",
      "metadataType": "cliente",
      "element": "autocomplete",
      "elementOptions": {
        "primary": "name"
      },
      "width": 220,
      "locked": true
    },
    "transporteId": {
      "$id": "/properties/transporteId",
      "type": "integer",
      "title": "Transporte",
      "table": "transporte",
      "filterable": true,
      "metadataType": "transporte",
      "route": "transporte/findLikeName",
      "element": "autocomplete",
      "elementOptions": {
        "primary": "name"
      },
      "width": 220
    },
    "facturaUrl": {
      "$id": "/properties/facturaUrl",
      "type": "string",
      "title": "Factura PDF",
      "formatter": "LinkFormatter"
    },
    "ownerId": {
      "$id": "/properties/ownerId",
      "type": "integer",
      "title": "Propietario"
    },
    "ownerName": {
      "$id": "/properties/ownerName",
      "type": "string",
      "title": "Nombre Propietario"
    },
    "createdBy": {
      "$id": "/properties/createdBy",
      "type": "string",
      "title": "Creado por"
    },
    "updatedBy": {
      "$id": "/properties/updatedBy",
      "type": "string",
      "title": "Actualizado por"
    },
    "createdAt": {
      "$id": "/properties/createdAt",
      "type": "string",
      "title": "Creado"
    },
    "updatedAt": {
      "$id": "/properties/updatedAt",
      "type": "string",
      "title": "Actualizado"
    },
    "documentoId": {
      "$id": "/properties/documentoId",
      "type": "integer",
      "title": "Consecutivo",
      "table": "documento",
      "sortable": true,
      "fields": [["consecutivo"]],
      "filterable": true
    },
    "consecutivo": {
      "$id": "/properties/consecutivo",
      "type": "string",
      "title": "Documento",
      "filterable": true,
      "sortable": true,
      "select": "documento.consecutivo",
      "locked": true,
      "width": 100
    },
    "direccion": {
      "$id": "/properties/direccion",
      "type": "string",
      "title": "Direccion",
      "filterable": true,
      "sortable": true,
      "select": "cliente.direccion",
      "width": 500
    },
    "fecha": {
      "$id": "/properties/fecha",
      "type": "string",
      "title": "Fecha",
      "filterable": true,

      "select": "documento.fecha",
      "width": 110,
      "formatter": "DateTimeFormatter",
      "sortable": true,
      "editable": true,
      "filterRenderer": "DateFilter"
    },
    "telefono": {
      "$id": "/properties/telefono",
      "type": "string",
      "title": "Telefono",
      "filterable": true,
      "sortable": true,
      "select": "cliente.telefono",
      "width": 100
    },
    "zonaId": {
      "$id": "/properties/zonaId",
      "type": "string",
      "title": "Ruta",
      "filterable": true,
      "sortable": true,
      "select": "zona.name"
    },
    "camion": {
      "$id": "/properties/camion",
      "type": "string",
      "title": "Camion",
      "filterable": true,
      "sortable": true,
      "editable": true,
      "width": 150
    }
  },
  "actions": [
    {
      "title": "Imprimir",
      "then": "openUrl",
      "icon": "Imprimir"
    },
    "Entregar",
    "Reactivar",
    "Archivar"
  ],
  "belongsTo": ["cliente", "transporte", "documento", "cliente>zona"],
  "required": ["clienteId"],
  "layout": [
    {
      "title": "Informaci√≥n",
      "cols": 4,
      "fields": ["clienteId", "tipo", "descripcion"]
    },
    {
      "cols": 8,
      "title": "Totales",
      "fields": ["totalComprobante", "tipoCambio", "moneda"]
    }
  ],
  "graph": ["clienteId", "vendedorId", "zonaId", "grupoId", "fecha", "totalComprobante", "totalVentaNeta"],
  "view": {
    "fields": [
      "id",
      "consecutivo",
      "clienteId",
      "zonaId",
      "transporteId",
      "estado",
      "camion",
      "resumen",
      "fechaAlisto",
      "fechaEntrega",
      "direccion",
      "descripcion",
      "facturaUrl"
    ]
  },
  "table": {
    "sum": [],
    "fields": [
      "id",
      "consecutivo",
      "clienteId",
      "zonaId",
      "transporteId",
      "estado",
      "camion",
      "resumen",
      "bultos",
      "fechaAlisto",
      "fechaEntrega",
      "direccion",
      "telefono",
      "descripcion",
      "facturaUrl"
    ]
  },
  "batch": ["estado", "fechaAlisto", "fechaEntrega", "transporteId", "zonaId"]
}
