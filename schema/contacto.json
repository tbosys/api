{
  "$id": "http://example.com/example.json",
  "type": "object",
  "title": "Contacto",
  "namespace": "mercadeo",
  "limit": 2000,
  "maxLimit": 10000,
  "key": "contacto",
  "shareLevel": 5,
  "secure": false,
  "restricted": [],
  "properties": {
    "id": {
      "$id": "/properties/id",
      "type": "integer",
      "title": "Id",
      "locked": true
    },
    "activo": {
      "$id": "/properties/activo",
      "type": "boolean",
      "title": "Activo",
      "formatter": "BooleanFormatter",
      "default": true,
      "filterable": true
    },

    "fechaNacimiento": {
      "$id": "/properties/fechaNacimiento",
      "type": "string",
      "formatter": "DateTimeFormatter",
      "filterRenderer": "DateFilter",
      "element": "date",
      "title": "Cumpleaños",
      "width": 100,
      "filterable": true,
      "editable": true,
      "sortable": true
    },
    "fechaIngreso": {
      "$id": "/properties/fechaIngreso",
      "type": "string",
      "formatter": "DateTimeFormatter",
      "filterRenderer": "DateFilter",
      "element": "date",
      "title": "Desde",
      "width": 100,
      "filterable": true,
      "editable": true,
      "sortable": true
    },

    "puesto": {
      "$id": "/properties/puesto",
      "type": "string",
      "title": "Puesto",
      "filterable": true,
      "editable": true,
      "sortable": true
    },

    "propietario": {
      "$id": "/properties/propietario",
      "type": "boolean",
      "title": "Dueño",
      "filterable": true,
      "editable": true,
      "sortable": true
    },

    "photo": {
      "$id": "/properties/photo",
      "type": "string",
      "title": "Foto",
      "filterable": true,
      "formatter": "PhotoFormatter",
      "editable": true,
      "sortable": true
    },

    "intereses": {
      "$id": "/properties/intereses",
      "type": "string",
      "title": "Intereses",
      "filterable": true,
      "editable": true,
      "sortable": true,
      "width": 180,
      "element": "csvSelect",
      "filterRenderer": "CsvSelectFilter",
      "formatter": "CsvSelectFormatter",
      "options": ["deportes", "trabajo", "mecanica", "tecnologia"]
    },
    "tags": {
      "$id": "/properties/tags",
      "type": "string",
      "title": "tags",
      "filterable": true,
      "editable": false,
      "width": 380
    },
    "marcas": {
      "$id": "/properties/marcas",
      "type": "string",
      "title": "Marcas",
      "filterable": true,
      "sortable": true,
      "width": 380
    },

    "name": {
      "$id": "/properties/name",
      "type": "string",
      "title": "Nombre",
      "width": 250,
      "filterable": true,
      "editable": true,
      "sortable": true,
      "locked": true
    },
    "cedula": {
      "$id": "/properties/cedula",
      "type": "string",
      "title": "Cédula",
      "minLength": 9,
      "maxLength": 12,
      "pattern": "[0-9]",
      "filterable": true,
      "editable": true,
      "sortable": true
    },
    "estadoUltimoEmail": {
      "$id": "/properties/estadoUltimoEmail",
      "type": "string",
      "title": "Estado Ultimo Email ",
      "filterable": true,
      "sortable": true,
      "width": 220
    },

    "ultimoEmail": {
      "$id": "/properties/ultimoEmail",
      "type": "string",
      "title": "Ultimo Email",
      "filterable": true,
      "sortable": true,
      "width": 220
    },

    "fechaUltimoEmail": {
      "$id": "/properties/fechaUltimoEmail",
      "type": "string",
      "title": "Fecha UltimoEmail ",
      "filterable": true,
      "sortable": true,
      "width": 220
    },

    "segmentoId": {
      "$id": "/properties/segmentoId",
      "type": "string",
      "title": "Segmento",
      "sortable": true,
      "filterable": true,
      "select": "segmento.name",
      "fields": [["name", "segmentoId"]]
    },

    "zonaId": {
      "$id": "/properties/zonaId",
      "type": "string",
      "title": "Zona",
      "sortable": true,
      "filterable": true,
      "select": "zona.name",
      "fields": [["name", "zonaId"]]
    },

    "ultimaCompra": {
      "$id": "/properties/clienteStatsId",
      "type": "string",
      "title": "Ultima Compra",
      "table": "clienteStats",
      "sortable": true,
      "filterable": true,
      "select": "clienteStats.ultimaCompra",
      "filterRenderer": "DateFilter",
      "formatter": "DateTimeFormatter",
      "width": 146
    },

    "promedioPagoDias": {
      "$id": "/properties/promedioPagoDias",
      "type": "number",
      "title": "Promedio Pago",
      "table": "clienteStats",
      "sortable": true,
      "filterable": true,
      "filterRenderer": "NumericFilter",
      "select": "clienteStats.promedioPagoDias",
      "width": 145
    },

    "promedioCompra": {
      "$id": "/properties/promedioCompra",
      "type": "number",
      "title": "Promedio Compra",
      "table": "clienteStats",
      "sortable": true,
      "filterable": true,
      "filterRenderer": "NumericFilter",
      "select": "clienteStats.promedioCompra",
      "width": 145
    },
    "promedioCompraG1": {
      "$id": "/properties/promedioCompra",
      "type": "number",
      "title": "promedioCompraG1",
      "table": "clienteStats",
      "sortable": true,
      "filterable": true,
      "filterRenderer": "NumericFilter",
      "select": "clienteStats.promedioCompraG1",
      "width": 145
    },
    "promedioCompraG2": {
      "$id": "/properties/promedioCompra",
      "type": "number",
      "title": "promedioCompraG2",
      "table": "clienteStats",
      "sortable": true,
      "filterable": true,
      "filterRenderer": "NumericFilter",
      "select": "clienteStats.promedioCompraG2",
      "width": 145
    },
    "promedioCompraG3": {
      "$id": "/properties/promedioCompra",
      "type": "number",
      "title": "promedioCompraG3",
      "table": "clienteStats",
      "sortable": true,
      "filterable": true,
      "filterRenderer": "NumericFilter",
      "select": "clienteStats.promedioCompraG3",
      "width": 145
    },
    "promedioCompraG4": {
      "$id": "/properties/promedioCompra",
      "type": "number",
      "title": "promedioCompraG4",
      "table": "clienteStats",
      "sortable": true,
      "filterable": true,
      "filterRenderer": "NumericFilter",
      "select": "clienteStats.promedioCompraG4",
      "width": 145
    },

    "plazo": {
      "$id": "/properties/plazo",
      "type": "string",
      "title": "Plazo",
      "sortable": true,
      "filterable": true,
      "filterRenderer": "NumericFilter",
      "select": "cliente.creditoPlazo",
      "filterRenderer": "NumericFilter"
    },
    "mobile": {
      "$id": "/properties/mobile",
      "type": "string",
      "title": "Mobile",
      "minLength": 8,
      "maxLength": 15,
      "pattern": "^[0-9-+()]+[0-9]$",
      "filterable": true,
      "editable": true,
      "sortable": true,
      "width": 120
    },
    "rol": {
      "$id": "/properties/rol",
      "type": "string",
      "title": "Rol",
      "filterable": true,
      "editable": true,
      "sortable": true,
      "width": 180,
      "element": "csvSelect",
      "filterRenderer": "CsvSelectFilter",
      "formatter": "CsvSelectFormatter",
      "options": ["venta", "pago"]
    },
    "direccion": {
      "$id": "/properties/direccion",
      "type": "string",
      "title": "Dirección",
      "default": "San Jose"
    },
    "clienteId": {
      "$id": "/properties/clienteId",
      "type": "integer",
      "title": "Cliente",
      "table": "cliente",
      "metadataType": "cliente",
      "filterable": true,
      "sortable": true,
      "width": 250,
      "route": "cliente/findLikeName",
      "element": "autocomplete",

      "elementOptions": {
        "primary": "name"
      }
    },
    "ownerId": {
      "$id": "/properties/ownerId",
      "type": "integer",
      "title": "Propietario",
      "table": "owner",
      "filterable": true,
      "sortable": true,
      "route": "owner/findLikeName",
      "metadataType": "owner",
      "element": "autocomplete",
      "elementOptions": {
        "primary": "name"
      },
      "width": 250
    },
    "ownerName": {
      "$id": "/properties/ownerName",
      "type": "string",
      "title": "Nombre Propietario"
    },
    "createdBy": {
      "$id": "/properties/createdBy",
      "type": "string",
      "title": "Creado por"
    },
    "updatedBy": {
      "$id": "/properties/updatedBy",
      "type": "string",
      "title": "Actualizado por"
    },
    "createdAt": {
      "$id": "/properties/createdAt",
      "type": "string",
      "title": "Creado"
    },
    "updatedAt": {
      "$id": "/properties/updatedAt",
      "type": "string",
      "title": "Actualizado"
    },
    "email": {
      "$id": "/properties/email",
      "type": "string",
      "title": "Email",
      "filterable": true,
      "sortable": true,
      "editable": true,
      "width": 220
    }
  },
  "belongsTo": ["cliente", "owner", "cliente>segmento", "cliente>zona", "clienteStats[clienteId]"],
  "required": ["name"],
  "actions": [
    "Crear",
    "Editar",
    {
      "title": "Email",
      "icon": "Email",
      "type": "modal",
      "size": "lg"
    }
  ],
  "layout": [
    {
      "title": "Información",
      "fields": ["name", "clienteId", "activo"]
    },
    {
      "title": "Contacto",
      "fields": ["email", "rol", "mobile"]
    },
    {
      "title": "Marketing",
      "fields": ["fechaNacimiento", "puesto", "propietario", "fechaIngreso", "marcas", "tags"]
    }
  ],
  "table": {
    "fields": [
      "id",
      "name",
      "clienteId",
      "email",
      "rol",
      "segmentoId",
      "plazo",
      "zonaId",
      "mobile",
      "fechaNacimiento",
      "puesto",
      "fechaIngreso",
      "propietario",
      "marcas",
      "tags",
      "activo",
      "ultimaCompra",
      "promedioCompra",
      "promedioPagoDias",
      "promedioCompraG1",
      "promedioCompraG2",
      "promedioCompraG3",
      "promedioCompraG4",
      "fechaUltimoEmail",
      "ultimoEmail",
      "estadoUltimoEmail"
    ]
  }
}
