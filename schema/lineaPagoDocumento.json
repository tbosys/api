{
  "$id": "http://example.com/example.json",
  "type": "object",
  "key": "lineaPagoDocumento",
  "title": "Lineas de Pago",
  "namespace": "credito",
  "shareLevel": 5,
  "restricted": [],
  "properties": {
    "id": {
      "$id": "/properties/id",
      "type": "integer",
      "title": "Id",
      "default": 0
    },
    "tipoCambio": {
      "$id": "/properties/tipoCambio",
      "type": "number",
      "title": "Tipo Cambio",
      "default": 1
    },
    "moneda": {
      "$id": "/properties/moneda",
      "type": "string",
      "title": "Moneda",
      "enum": ["CRC", "USD"],
      "element": "select",
      "default": "CRC"
    },
    "montoPendiente": {
      "$id": "/properties/montoPendiente",
      "type": "number",
      "title": "Monto pendiente"
    },
    "plazoDocumento": {
      "$id": "/properties/plazoDocumento",
      "type": "number",
      "title": "plazoDocumento"
    },
    "tipoDocumento": {
      "$id": "/properties/tipoDocumento",
      "type": "string",
      "title": "Tipo Documento"
    },
    "fecha": {
      "$id": "/properties/fecha",
      "type": "string",
      "title": "Fecha",
      "filterable": true,
      "filterRenderer": "DateFilter",
      "sortable": true,
      "width": 120
    },
    "monto": {
      "$id": "/properties/monto",
      "type": "number",
      "title": "Monto",
      "filterRenderer": "NumericFilter",
      "filterable": true,
      "sortable": true
    },
    "diasCredito": {
      "$id": "/properties/diasCredito",
      "type": "integer",
      "title": "Dias Credito",
      "filterRenderer": "NumericFilter",
      "filterable": true,
      "sortable": true
    },
    "plazoAgrupado": {
      "$id": "/properties/plazoAgrupado",
      "type": "string",
      "filterRenderer": "SelectFilter",
      "title": "Agrupado",
      "select": "(case when diasCredito >= 0 and diasCredito < 30  then '0-30' when diasCredito >= 30 and diasCredito < 45  then '30-45' when diasCredito >= 45 and diasCredito < 60  then '45-60' when diasCredito >= 60 and diasCredito < 90  then '60-90' else '90+' end)",
      "filterable": true,
      "sortable": true,
      "enum": ["0-30", "30-45", "45-60", "60-90", "90+"]
    },
    "pagoDocumentoId": {
      "$id": "/properties/pagoDocumentoId",
      "type": "integer",
      "title": "Pago",
      "table": "pagoDocumento",
      "sortable": true,
      "fields": [["recibo", ["formaPago", "formaPago"], ["referencia", "referencia"]]],
      "filterable": true
    },
    "recibo": {
      "$id": "/properties/recibo",
      "type": "string",
      "title": "Recibo",
      "filterable": true,
      "sortable": true,
      "select": "pagoDocumento.recibo"
    },
    "formaPago": {
      "$id": "/properties/formaPago",
      "type": "string",
      "title": "Forma Pago",
      "filterable": true,
      "sortable": true,
      "select": "pagoDocumento.formaPago"
    },

    "referencia": {
      "$id": "/properties/referencia",
      "type": "string",
      "title": "Referencia",
      "filterable": true,
      "sortable": true,
      "select": "pagoDocumento.referencia",
      "width": 120
    },
    "documentoId": {
      "$id": "/properties/documentoId",
      "type": "integer",
      "title": "Documento",
      "table": "documento",
      "sortable": true,
      "fields": [["totalComprobante", ["documentoFecha", "documentoFecha"]]],
      "filterable": true
    },
    "comisiona": {
      "$id": "/properties/comisiona",
      "type": "boolean",
      "title": "Comision",
      "filterable": true,
      "sortable": true,
      "select": "owner.comisiona"
    },
    "consecutivo": {
      "$id": "/properties/consecutivo",
      "type": "string",
      "title": "Documento",
      "filterable": true,
      "sortable": true,
      "select": "documento.consecutivo"
    },
    "totalComprobante": {
      "$id": "/properties/totalComprobante",
      "type": "number",
      "title": "Total Doc",
      "sortable": true,
      "select": "documento.totalComprobante"
    },
    "documentoFecha": {
      "$id": "/properties/documentoFecha",
      "type": "string",
      "title": "Fecha Doc",
      "filterable": true,
      "filterRenderer": "DateFilter",
      "sortable": true,
      "select": "documento.fecha"
    },
    "clienteId": {
      "$id": "/properties/clienteId",
      "type": "integer",
      "title": "Cliente",
      "table": "cliente",
      "filterable": true,
      "sortable": true,
      "width": 350,
      "select": "cliente.name"
    },
    "tags": {
      "$id": "/properties/tags",
      "type": "integer",
      "title": "Tag",
      "table": "cliente",
      "filterable": true,
      "width": 350,
      "select": "cliente.tags"
    },
    "ownerId": {
      "$id": "/properties/ownerId",
      "type": "integer",
      "title": "Propietario",
      "table": "owner",
      "filterable": true,
      "sortable": true,
      "route": "owner/findLikeName",
      "metadataType": "owner",
      "element": "autocomplete",
      "elementOptions": {
        "primary": "name"
      },
      "width": 250
    },

    "createdBy": {
      "$id": "/properties/createdBy",
      "type": "string",
      "title": "Creado por"
    },
    "updatedBy": {
      "$id": "/properties/updatedBy",
      "type": "string",
      "title": "Actualizado por"
    },
    "createdAt": {
      "$id": "/properties/createdAt",
      "type": "string",
      "title": "Creado"
    },
    "updatedAt": {
      "$id": "/properties/updatedAt",
      "type": "string",
      "title": "Actualizado"
    }
  },
  "required": [],
  "belongsTo": ["pagoDocumento", "owner", "documento", "documento>cliente"],
  "actions": [],
  "layout": [],
  "table": {
    "sum": ["monto"],
    "fields": [
      "id",
      "clienteId",
      "recibo",
      "fecha",
      "diasCredito",
      "plazoAgrupado",
      "consecutivo",
      "monto",
      "tipoDocumento",
      "totalComprobante",
      "ownerId",
      "formaPago",
      "referencia",
      "tags",
      "comisiona"
    ]
  }
}
