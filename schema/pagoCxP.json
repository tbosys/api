{
  "$id": "http://example.com/example.json",
  "type": "object",
  "key": "pagoCxP",
  "limit": 100,
  "maxLimit": 5000,
  "namespace": "cxp",
  "title": "Pagos de Facturas Por Pagar",
  "restricted": ["proveedorId", "referencia", "moneda", "tipoCambio", "monto"],
  "properties": {
    "id": {
      "$id": "/properties/id",
      "type": "integer",
      "title": "Id"
    },
    "proveedorId": {
      "$id": "/properties/proveedorId",
      "type": "integer",
      "title": "Proveedor",
      "table": "proveedor",
      "filterable": true,
      "metadataType": "proveedor",
      "route": "proveedor/findLikeName",
      "element": "autocomplete",
      "elementOptions": {
        "primary": "name"
      },
      "width": 250
    },
    "referencia": {
      "$id": "/properties/referencia",
      "type": "string",
      "filterable": true,
      "title": "Referencia",
      "width": 250
    },
    "fecha": {
      "$id": "/properties/fecha",
      "type": "string",
      "title": "Fecha",
      "width": 120,
      "filterable": true,
      "filterRenderer": "DateFilter",
      "default": "TODAY",
      "element": "date",
      "pattern": "[0-9]{4}-[0-9]{2}-[0-9]{2}"
    },
    "moneda": {
      "$id": "/properties/moneda",
      "element": "select",
      "default": "CRC",
      "enum": ["CRC", "USD", "EUR"],
      "type": "string",
      "title": "Moneda"
    },
    "formaPago": {
      "$id": "/properties/formaPago",
      "type": "string",
      "title": "Forma de Pago"
    },
    "tipoCambio": {
      "$id": "/properties/tipoCambio",
      "type": "number",
      "default": 1,
      "title": "Tipo de cambio"
    },
    "monto": {
      "$id": "/properties/monto",
      "type": "number",
      "title": "Monto"
    },
    "montoPendiente": {
      "$id": "/properties/montoPendiente",
      "type": "number",
      "title": "Monto Pendiente"
    },
    "approveBy": {
      "$id": "/properties/approveBy",
      "type": "integer",
      "title": "Aprovado Por "
    },
    "ownerId": {
      "$id": "/properties/ownerId",
      "type": "integer",
      "title": "Propietario"
    },
    "ownerName": {
      "$id": "/properties/ownerName",
      "type": "string",
      "title": "Nombre Propietario"
    },
    "createdBy": {
      "$id": "/properties/createdBy",
      "type": "string",
      "title": "Creado por"
    },
    "updatedBy": {
      "$id": "/properties/updatedBy",
      "type": "string",
      "title": "Actualizado por"
    },
    "createdAt": {
      "$id": "/properties/createdAt",
      "type": "string",
      "title": "Creado"
    },
    "updatedAt": {
      "$id": "/properties/updatedAt",
      "type": "string",
      "title": "Actualizado"
    },
    "lineaPagoCxP": {
      "isJSON": true,
      "width": 100,
      "title": "Facturas",
      "formatter": "ChildFormatter",
      "route": "facturaCxP/findByProveedorId",
      "parentKey": "proveedorId",
      "valueKey": "saldo",
      "plazoKey": "plazoActual",
      "consecutivoKey": "referencia",
      "map": [
        {
          "facturaCxPId": "id"
        },
        {
          "tipo": "tipo"
        },
        {
          "moneda": "moneda"
        },
        {
          "tipoCambio": "tipoCambio"
        },
        {
          "monto": "saldo"
        },
        {
          "referencia": "referencia"
        }
      ],
      "fields": ["referencia", "monto"],
      "editables": ["monto"],
      "idField": "facturaCxPId",
      "element": "billingSelector",
      "type": "string",
      "items": {
        "type": "object"
      }
    }
  },
  "required": ["referencia"],
  "belongsTo": ["proveedor"],
  "isBelongedBy": ["lineaPagoCxP"],
  "actions": ["Crear"],
  "layout": [
    {
      "title": "Legal",
      "cols": 4,
      "fields": ["proveedorId", "referencia", "moneda", "tipoCambio", "monto"]
    },
    {
      "title": "Facturas",
      "cols": 8,
      "fieldSize": 12,
      "fields": ["lineaPagoCxP"]
    }
  ],
  "table": {
    "sum": ["monto"],
    "fields": ["proveedorId", "referencia", "moneda", "monto", "lineaPagoCxP", "fecha"]
  }
}
